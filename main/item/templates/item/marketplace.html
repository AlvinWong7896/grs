{% extends 'core/base.html' %}
{% load static %}

{% block title %}Welcome{% endblock %}

{% block content %}
<div class="container">
    {% include 'item/item_search.html' %}
    <div class="main-container">
        <h2 class="section-title">Pre-owned Bikes for Sales</h2>
        <div class="item-container">
            {% if items %}
                {% for item in items %}
                    <div class="item">
                        <a href="{% url 'item:detail' item.id %}"><img src="{{ item.image.url }}" alt="Item Image">
                        <span>
                            <h3>{{ item.name }}</h3>
                            <p>Price: {{ item.formatted_price }}</p>
                        </span>
                        </a>
                    </div>
                {% endfor %}
            {% else %}
                    <p>No items found.</p>
            {% endif %}   
        </div>
        {% include 'pagination.html' with page=items %}
        <br>
        <hr>
        <h2 class="section-title">Categories</h2>
        <div class="category-container">
            {% for category in categories %}
                <div class="category">
                    <a href="{% url 'item:category_marketplace' category.id %}">
                        <div class="category-details">
                            <span>
                                <h3>{{ category.name }}</h3>
                                <p>{{ category.items.count }} items</p>
                        </span>
                        </div>
                    </a>
                </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock content %}
