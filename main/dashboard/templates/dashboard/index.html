
{% extends 'core/base.html' %}
{% load static %}


{% block title %}Dashboard{% endblock %}
    
{% block content %}
<div class="container">
    {% include 'core/sidebar.html' with latest_items=latest_items %}
    <div class="dash-container">
        <div class="dashboard">
            <h2>My Dashboard</h2>
            <ul class="dashboard-menu">
                <li><a href="{% url 'dashboard:index' %}" class="selection" id="my-items"><h3>My Items</h3></a></li>
                <li><a href="{% url 'conversation:inbox' %}" class="selection" id="my-inbox"><h3>My Inbox</h3></a></li>
                <li><a href="{% url 'blog:post_list' %}" class="selection" id="my-blogs"><h3>My Blogs</h3></a></li>
            </ul>
            <br><br>
            <div class="id=content">

            </div>
            <div class="items-grid">
            {% for item in items %}
                <div class="item-card">
                <a href="{% url 'item:detail' item.id %}">
                    <img src="{{ item.image.url }}" alt="{{ item.name }}" class="item-image">
                </a>
                <div class="item-details">
                    <h3>{{ item.name }}</h3>
                    <p>Price: {{ item.formatted_price }}</p>
                </div>
                </div>
            {% endfor %}
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const menuItems = document.querySelectorAll('.dashboard-menu .selection');
        menuItems.forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                menuItems.forEach(i => i.classList.remove('active'));
                this.classList.add('active');
    
                // Load content dynamically (You can change this part based on your actual content loading logic)
                const content = document.getElementById('content');
                if (this.id === 'my-items') {
                    content.innerHTML = '<p>Content for My Items</p>';
                } else if (this.id === 'my-inbox') {
                    content.innerHTML = '<p>Content for My Inbox</p>';
                } else if (this.id === 'my-blogs') {
                    content.innerHTML = '<p>Content for My Blogs</p>';
                }
            });
        });
    
        // Set initial active item and content
        if (menuItems.length > 0) {
            menuItems[0].click();
        }
    });
    </script>

{% endblock %}